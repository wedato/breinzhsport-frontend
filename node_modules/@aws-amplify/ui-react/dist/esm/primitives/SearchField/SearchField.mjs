import{__rest as e}from"tslib";import o from"classnames";import*as a from"react";import{FieldClearButton as n}from"../Field/FieldClearButton.mjs";import"../Field/FieldDescription.mjs";import"../Field/FieldErrorMessage.mjs";import"../Field/Field.mjs";import{FieldGroupIcon as r}from"../FieldGroupIcon/FieldGroupIcon.mjs";import"../FieldGroupIcon/FieldGroupIconButton.mjs";import{ComponentClassNames as l}from"../shared/constants.mjs";import"../View/View.mjs";import{IconSearch as t}from"../Icon/icons/IconSearch.mjs";import{SearchFieldButton as i}from"./SearchFieldButton.mjs";import{TextField as m}from"../TextField/TextField.mjs";import{useSearchField as s}from"./useSearchField.mjs";import{strHasLength as d}from"../shared/utils.mjs";const c=a.forwardRef(((c,u)=>{var{autoComplete:p="off",className:f,isDisabled:h,clearButtonLabel:C,labelHidden:F=!0,name:b="q",hasSearchButton:j=!0,hasSearchIcon:S=!1,onChange:B,onClear:v,onSubmit:E,searchButtonRef:I,size:g,defaultValue:D,value:V}=c,w=e(c,["autoComplete","className","isDisabled","clearButtonLabel","labelHidden","name","hasSearchButton","hasSearchIcon","onChange","onClear","onSubmit","searchButtonRef","size","defaultValue","value"]);const{composedValue:x,onClearHandler:z,onKeyDown:R,onClick:k,handleOnChange:G,composedRefs:H}=s({defaultValue:D,value:V,onChange:B,onClear:v,onSubmit:E,externalRef:u}),N=j?a.createElement(i,{isDisabled:h,onClick:k,ref:I,size:g}):void 0,y=S?a.createElement(r,null,a.createElement(t,null)):void 0;return a.createElement(m,Object.assign({autoComplete:p,className:o(l.SearchField,f),labelHidden:F,innerStartComponent:y,innerEndComponent:a.createElement(n,{ariaLabel:C,excludeFromTabOrder:!0,isVisible:!h&&d(x),onClick:z,size:g,variation:"link"}),isDisabled:h,name:b,onChange:G,onKeyDown:R,outerEndComponent:N,ref:H,size:g,value:x},w))}));c.displayName="SearchField";export{c as SearchField};
