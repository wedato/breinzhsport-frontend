import*as e from"react";import{configureComponent as s,isFunction as t}from"@aws-amplify/ui";import{AuthenticatorProvider as r,useAuthenticator as o,useAuthenticatorInitMachine as i}from"@aws-amplify/ui-react-core";import{CustomComponentsContext as m}from"./hooks/useCustomComponents/index.mjs";import"../../primitives/View/View.mjs";import{Router as n}from"./Router/Router.mjs";import{SetupTOTP as a}from"./SetupTOTP/SetupTOTP.mjs";import{SignIn as p}from"./SignIn/SignIn.mjs";import{SignUp as u}from"./SignUp/SignUp.mjs";import{ForceNewPassword as c}from"./ForceNewPassword/ForceNewPassword.mjs";import"./ResetPassword/ConfirmResetPassword.mjs";import{ResetPassword as l}from"./ResetPassword/ResetPassword.mjs";import{defaultComponents as f}from"./hooks/useCustomComponents/defaultComponents.mjs";import{VERSION as g}from"../../version.mjs";function d({children:s,className:r,components:a,formFields:p,hideSignUp:u,initialState:c,loginMechanisms:l,signUpAttributes:g,services:d,socialProviders:w,variation:P}){const{route:j,signOut:S,user:v}=o((({route:e,signOut:s,user:t})=>[e,s,t]));i({initialState:c,loginMechanisms:l,services:d,signUpAttributes:g,socialProviders:w,formFields:p});const O=e.useMemo((()=>({components:Object.assign(Object.assign({},f),a)})),[a]);return"authenticated"===j||"signOut"===j?s?e.createElement(e.Fragment,null,t(s)?s({signOut:S,user:v}):s):null:e.createElement(m.Provider,{value:O},e.createElement(n,{className:r,hideSignUp:u,variation:P}))}function w(t){return e.useEffect((()=>{s({packageName:"@aws-amplify/ui-react",version:g})}),[]),e.createElement(r,null,e.createElement(d,Object.assign({},t)))}w.Provider=r,w.ResetPassword=l,w.SetupTOTP=a,w.SignIn=p,w.SignUp=u,w.ForceNewPassword=c;export{w as Authenticator,d as AuthenticatorInternal};
