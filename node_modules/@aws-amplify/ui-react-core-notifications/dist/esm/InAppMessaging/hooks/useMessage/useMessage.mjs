import{ConsoleLogger as s}from"@aws-amplify/core";import{InAppMessageInteractionEvent as e,Notifications as o}from"@aws-amplify/notifications";import{isNil as n}from"@aws-amplify/ui";import{RenderNothing as a}from"@aws-amplify/ui-react-core";import t from"../useInAppMessaging/useInAppMessaging.mjs";import{getContentProps as i,getPositionProp as p}from"./utils.mjs";const r=Object.freeze({}),l=new s("Notifications.InAppMessaging"),{InAppMessaging:c}=o;function m({components:s,onMessageAction:o}){const{clearMessage:m,message:u}=t(),{BannerMessage:g,CarouselMessage:M,FullScreenMessage:f,ModalMessage:y}=s;if(n(u))return{Component:a,props:r};const{content:A,layout:E}=u,C=()=>{c.notifyMessageInteraction(u,e.MESSAGE_ACTION_TAKEN),m()},I=()=>{c.notifyMessageInteraction(u,e.MESSAGE_DISMISSED),m()},O=()=>{c.notifyMessageInteraction(u,e.MESSAGE_DISPLAYED)};switch(E){case"BOTTOM_BANNER":case"MIDDLE_BANNER":case"TOP_BANNER":return{Component:g,props:Object.assign(Object.assign({},i(null==A?void 0:A[0],o,C)),{layout:E,onClose:I,onDisplay:O,position:p(E)})};case"CAROUSEL":return{Component:M,props:{data:null==A?void 0:A.map((s=>i(s,o,C))),layout:E,onClose:I,onDisplay:O}};case"FULL_SCREEN":return{Component:f,props:Object.assign(Object.assign({},i(null==A?void 0:A[0],o,C)),{layout:E,onClose:I,onDisplay:O})};case"MODAL":return{Component:y,props:Object.assign(Object.assign({},i(null==A?void 0:A[0],o,C)),{layout:E,onClose:I,onDisplay:O})};default:return l.info(`Received unknown InAppMessage layout: ${E}`),{Component:a,props:r}}}export{r as EMPTY_PROPS,m as default};
