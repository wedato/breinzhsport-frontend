{"ast":null,"code":"import React,{useContext}from\"react\";import{Link}from\"react-router-dom\";import{CartContext}from\"../context/CartContext\";import{AuthContext}from\"../context/AuthContext\";import\"./CartPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CartPage(){const{cart,updateQuantity,removeFromCart,getCartTotal}=useContext(CartContext);const{isAuthenticated}=useContext(AuthContext);if(cart.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page empty-cart\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Votre Panier\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Votre panier est vide.\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn\",children:\"Continuer vos achats\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Votre Panier\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"cart-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Produit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Prix\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantit\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:`/products/${item.id}`,children:item.name})})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"product-price\",children:[item.price.toFixed(2),\" \\u20AC\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"product-quantity\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,item.quantity-1),disabled:item.quantity<=1,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,item.quantity+1),disabled:item.quantity>=(item.stock||10),children:\"+\"})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"product-total\",children:[(item.price*item.quantity).toFixed(2),\" \\u20AC\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"product-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"remove-button\",onClick:()=>removeFromCart(item.id),children:\"Supprimer\"})})]},item.id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"R\\xE9capitulatif\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sous-total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[getCartTotal().toFixed(2),\" \\u20AC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Livraison:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Gratuite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[getCartTotal().toFixed(2),\" \\u20AC\"]})]}),isAuthenticated?/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"btn checkout-btn\",children:\"Proc\\xE9der au paiement\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"login-prompt\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Veuillez vous connecter pour finaliser votre commande.\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn\",children:\"Se connecter\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"continue-shopping\",children:\"Continuer vos achats\"})]})]})]});}export default CartPage;","map":{"version":3,"names":["React","useContext","Link","CartContext","AuthContext","jsx","_jsx","jsxs","_jsxs","CartPage","cart","updateQuantity","removeFromCart","getCartTotal","isAuthenticated","length","className","children","to","map","item","src","image","alt","name","id","price","toFixed","onClick","quantity","disabled","stock"],"sources":["C:/Users/jonat/aws_poc/frontend/src/pages/CartPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../context/CartContext\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport \"./CartPage.css\";\n\nfunction CartPage() {\n  const { cart, updateQuantity, removeFromCart, getCartTotal } =\n    useContext(CartContext);\n  const { isAuthenticated } = useContext(AuthContext);\n\n  if (cart.length === 0) {\n    return (\n      <div className=\"cart-page empty-cart\">\n        <h1>Votre Panier</h1>\n        <p>Votre panier est vide.</p>\n        <Link to=\"/products\" className=\"btn\">\n          Continuer vos achats\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart-page\">\n      <h1>Votre Panier</h1>\n\n      <div className=\"cart-container\">\n        <div className=\"cart-items\">\n          <table className=\"cart-table\">\n            <thead>\n              <tr>\n                <th>Produit</th>\n                <th>Prix</th>\n                <th>Quantité</th>\n                <th>Total</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {cart.map((item) => (\n                <tr key={item.id} className=\"cart-item\">\n                  <td className=\"product-info\">\n                    <img src={item.image} alt={item.name} />\n                    <div>\n                      <Link to={`/products/${item.id}`}>{item.name}</Link>\n                    </div>\n                  </td>\n                  <td className=\"product-price\">{item.price.toFixed(2)} €</td>\n                  <td className=\"product-quantity\">\n                    <div className=\"quantity-controls\">\n                      <button\n                        onClick={() =>\n                          updateQuantity(item.id, item.quantity - 1)\n                        }\n                        disabled={item.quantity <= 1}\n                      >\n                        -\n                      </button>\n                      <span>{item.quantity}</span>\n                      <button\n                        onClick={() =>\n                          updateQuantity(item.id, item.quantity + 1)\n                        }\n                        disabled={item.quantity >= (item.stock || 10)}\n                      >\n                        +\n                      </button>\n                    </div>\n                  </td>\n                  <td className=\"product-total\">\n                    {(item.price * item.quantity).toFixed(2)} €\n                  </td>\n                  <td className=\"product-actions\">\n                    <button\n                      className=\"remove-button\"\n                      onClick={() => removeFromCart(item.id)}\n                    >\n                      Supprimer\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"cart-summary\">\n          <h2>Récapitulatif</h2>\n\n          <div className=\"summary-row\">\n            <span>Sous-total:</span>\n            <span>{getCartTotal().toFixed(2)} €</span>\n          </div>\n\n          <div className=\"summary-row\">\n            <span>Livraison:</span>\n            <span>Gratuite</span>\n          </div>\n\n          <div className=\"summary-row total\">\n            <span>Total:</span>\n            <span>{getCartTotal().toFixed(2)} €</span>\n          </div>\n\n          {isAuthenticated ? (\n            <Link to=\"/checkout\" className=\"btn checkout-btn\">\n              Procéder au paiement\n            </Link>\n          ) : (\n            <div className=\"login-prompt\">\n              <p>Veuillez vous connecter pour finaliser votre commande.</p>\n              <Link to=\"/login\" className=\"btn\">\n                Se connecter\n              </Link>\n            </div>\n          )}\n\n          <Link to=\"/products\" className=\"continue-shopping\">\n            Continuer vos achats\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}