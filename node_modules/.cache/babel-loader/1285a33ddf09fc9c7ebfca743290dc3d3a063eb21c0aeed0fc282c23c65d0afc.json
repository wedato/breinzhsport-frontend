{"ast":null,"code":"import * as e from \"react\";\nimport { isFunction as t } from \"@aws-amplify/ui\";\nimport { ARROW_UP as o, ARROW_DOWN as n, ENTER_KEY as l, ESCAPE_KEY as s } from \"../shared/constants.mjs\";\nimport { strHasLength as i } from \"../shared/utils.mjs\";\nimport { useStableId as a } from \"../utils/useStableId.mjs\";\nconst u = new Set([n, o, l, s]),\n  c = ({\n    defaultValue: c = \"\",\n    value: r,\n    options: d,\n    optionFilter: m,\n    onBlur: f,\n    onChange: p,\n    onClear: h,\n    onClick: g,\n    onSelect: b,\n    onSubmit: v\n  }) => {\n    var C;\n    const I = void 0 !== r,\n      [k, w] = e.useState(c),\n      O = I ? r : k,\n      [B, E] = e.useState(!1),\n      [y, S] = e.useState(null),\n      T = t(m),\n      H = e.useMemo(() => {\n        var e;\n        const t = T ? e => m(e, O) : e => {\n          const {\n            label: t\n          } = e;\n          return null == t ? void 0 : t.toLocaleLowerCase().includes(null == O ? void 0 : O.toLocaleLowerCase());\n        };\n        return null !== (e = null == d ? void 0 : d.filter(t)) && void 0 !== e ? e : [];\n      }, [O, m, T, d]),\n      L = a(),\n      M = a(),\n      V = a(),\n      j = a(),\n      x = H.findIndex(e => e === y),\n      D = null !== (C = null == y ? void 0 : y.id) && void 0 !== C ? C : -1 !== x ? `${j}-option-${x}` : void 0,\n      F = e.useCallback(e => {\n        E(!1), S(null), t(f) && f(e);\n      }, [f]),\n      R = e.useCallback(e => {\n        S(null), E(!0), I || w(e.target.value), t(p) && p(e);\n      }, [I, p]),\n      $ = e.useCallback(() => {\n        I || w(\"\"), t(h) && h();\n      }, [I, h]),\n      A = e.useCallback(e => {\n        E(!0), t(g) && g(e);\n      }, [g]);\n    return e.useEffect(() => {\n      const e = document.getElementById(L),\n        t = document.getElementById(V);\n      if (t && B && e) {\n        const {\n            bottom: o\n          } = t.getBoundingClientRect(),\n          {\n            offsetParent: n,\n            offsetTop: l\n          } = e;\n        n === document.body && o > document.documentElement.clientHeight && window.scrollTo({\n          top: Math.min(o - document.documentElement.clientHeight + window.scrollY + 20, l),\n          behavior: \"smooth\"\n        });\n      }\n    }, [L, B, V]), e.useEffect(() => {\n      const e = document.getElementById(M),\n        t = i(D) ? document.getElementById(D) : null;\n      if (t && e) {\n        const {\n            scrollTop: o,\n            clientHeight: n\n          } = e,\n          {\n            offsetHeight: l,\n            offsetTop: s\n          } = t,\n          {\n            top: i,\n            bottom: a\n          } = t.getBoundingClientRect();\n        o > s && (e.scrollTop = s), o + n < s + l && (e.scrollTop = s + l - n), (i < 0 || a > document.documentElement.clientHeight) && t.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\"\n        });\n      }\n    }, [D, M]), {\n      activeOptionId: D,\n      autocompleteId: L,\n      composedValue: O,\n      filteredOptions: H,\n      handleOnBlur: F,\n      handleOnClear: $,\n      handleOnClick: A,\n      handleOnChange: R,\n      handleOnKeyDown: e => {\n        const {\n          key: i\n        } = e;\n        if (u.has(i)) switch (e.preventDefault(), i) {\n          case s:\n            B ? (E(!1), S(null)) : $();\n            break;\n          case l:\n            if (y) {\n              const {\n                label: e\n              } = y;\n              I || w(e), t(b) && b(y);\n            } else t(v) && v(O);\n            E(!1), S(null);\n            break;\n          case n:\n            {\n              if (H.length <= 0) return;\n              E(!0);\n              const e = x >= H.length - 1 ? 0 : x + 1;\n              S(H[e]);\n              break;\n            }\n          case o:\n            {\n              if (H.length <= 0) return;\n              E(!0);\n              const e = x <= 0 ? H.length - 1 : x - 1;\n              S(H[e]);\n            }\n        }\n      },\n      isControlled: I,\n      isCustomFiltering: T,\n      isMenuOpen: B,\n      listboxId: M,\n      menuId: V,\n      optionBaseId: j,\n      setActiveOption: S,\n      setIsMenuOpen: E,\n      setInternalValue: w\n    };\n  };\nexport { c as useAutocomplete };","map":{"version":3,"names":["e","isFunction","t","ARROW_UP","o","ARROW_DOWN","n","ENTER_KEY","l","ESCAPE_KEY","s","strHasLength","i","useStableId","a","u","Set","c","defaultValue","value","r","options","d","optionFilter","m","onBlur","f","onChange","p","onClear","h","onClick","g","onSelect","b","onSubmit","v","C","I","k","w","useState","O","B","E","y","S","T","H","useMemo","label","toLocaleLowerCase","includes","filter","L","M","V","j","x","findIndex","D","id","F","useCallback","R","target","$","A","useEffect","document","getElementById","bottom","getBoundingClientRect","offsetParent","offsetTop","body","documentElement","clientHeight","window","scrollTo","top","Math","min","scrollY","behavior","scrollTop","offsetHeight","scrollIntoView","block","activeOptionId","autocompleteId","composedValue","filteredOptions","handleOnBlur","handleOnClear","handleOnClick","handleOnChange","handleOnKeyDown","key","has","preventDefault","length","isControlled","isCustomFiltering","isMenuOpen","listboxId","menuId","optionBaseId","setActiveOption","setIsMenuOpen","setInternalValue","useAutocomplete"],"sources":["C:/Users/jonat/aws_poc/frontend/node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/useAutocomplete.mjs"],"sourcesContent":["import*as e from\"react\";import{isFunction as t}from\"@aws-amplify/ui\";import{ARROW_UP as o,ARROW_DOWN as n,ENTER_KEY as l,ESCAPE_KEY as s}from\"../shared/constants.mjs\";import{strHasLength as i}from\"../shared/utils.mjs\";import{useStableId as a}from\"../utils/useStableId.mjs\";const u=new Set([n,o,l,s]),c=({defaultValue:c=\"\",value:r,options:d,optionFilter:m,onBlur:f,onChange:p,onClear:h,onClick:g,onSelect:b,onSubmit:v})=>{var C;const I=void 0!==r,[k,w]=e.useState(c),O=I?r:k,[B,E]=e.useState(!1),[y,S]=e.useState(null),T=t(m),H=e.useMemo((()=>{var e;const t=T?e=>m(e,O):e=>{const{label:t}=e;return null==t?void 0:t.toLocaleLowerCase().includes(null==O?void 0:O.toLocaleLowerCase())};return null!==(e=null==d?void 0:d.filter(t))&&void 0!==e?e:[]}),[O,m,T,d]),L=a(),M=a(),V=a(),j=a(),x=H.findIndex((e=>e===y)),D=null!==(C=null==y?void 0:y.id)&&void 0!==C?C:-1!==x?`${j}-option-${x}`:void 0,F=e.useCallback((e=>{E(!1),S(null),t(f)&&f(e)}),[f]),R=e.useCallback((e=>{S(null),E(!0),I||w(e.target.value),t(p)&&p(e)}),[I,p]),$=e.useCallback((()=>{I||w(\"\"),t(h)&&h()}),[I,h]),A=e.useCallback((e=>{E(!0),t(g)&&g(e)}),[g]);return e.useEffect((()=>{const e=document.getElementById(L),t=document.getElementById(V);if(t&&B&&e){const{bottom:o}=t.getBoundingClientRect(),{offsetParent:n,offsetTop:l}=e;n===document.body&&o>document.documentElement.clientHeight&&window.scrollTo({top:Math.min(o-document.documentElement.clientHeight+window.scrollY+20,l),behavior:\"smooth\"})}}),[L,B,V]),e.useEffect((()=>{const e=document.getElementById(M),t=i(D)?document.getElementById(D):null;if(t&&e){const{scrollTop:o,clientHeight:n}=e,{offsetHeight:l,offsetTop:s}=t,{top:i,bottom:a}=t.getBoundingClientRect();o>s&&(e.scrollTop=s),o+n<s+l&&(e.scrollTop=s+l-n),(i<0||a>document.documentElement.clientHeight)&&t.scrollIntoView({behavior:\"smooth\",block:\"nearest\"})}}),[D,M]),{activeOptionId:D,autocompleteId:L,composedValue:O,filteredOptions:H,handleOnBlur:F,handleOnClear:$,handleOnClick:A,handleOnChange:R,handleOnKeyDown:e=>{const{key:i}=e;if(u.has(i))switch(e.preventDefault(),i){case s:B?(E(!1),S(null)):$();break;case l:if(y){const{label:e}=y;I||w(e),t(b)&&b(y)}else t(v)&&v(O);E(!1),S(null);break;case n:{if(H.length<=0)return;E(!0);const e=x>=H.length-1?0:x+1;S(H[e]);break}case o:{if(H.length<=0)return;E(!0);const e=x<=0?H.length-1:x-1;S(H[e])}}},isControlled:I,isCustomFiltering:T,isMenuOpen:B,listboxId:M,menuId:V,optionBaseId:j,setActiveOption:S,setIsMenuOpen:E,setInternalValue:w}};export{c as useAutocomplete};\n"],"mappings":"AAAA,OAAM,KAAIA,CAAC,MAAK,OAAO;AAAC,SAAOC,UAAU,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,QAAQ,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,EAACC,UAAU,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,YAAY,IAAIC,CAAC,QAAK,qBAAqB;AAAC,SAAOC,WAAW,IAAIC,CAAC,QAAK,0BAA0B;AAAC,MAAMC,CAAC,GAAC,IAAIC,GAAG,CAAC,CAACV,CAAC,EAACF,CAAC,EAACI,CAAC,EAACE,CAAC,CAAC,CAAC;EAACO,CAAC,GAACA,CAAC;IAACC,YAAY,EAACD,CAAC,GAAC,EAAE;IAACE,KAAK,EAACC,CAAC;IAACC,OAAO,EAACC,CAAC;IAACC,YAAY,EAACC,CAAC;IAACC,MAAM,EAACC,CAAC;IAACC,QAAQ,EAACC,CAAC;IAACC,OAAO,EAACC,CAAC;IAACC,OAAO,EAACC,CAAC;IAACC,QAAQ,EAACC,CAAC;IAACC,QAAQ,EAACC;EAAC,CAAC,KAAG;IAAC,IAAIC,CAAC;IAAC,MAAMC,CAAC,GAAC,KAAK,CAAC,KAAGlB,CAAC;MAAC,CAACmB,CAAC,EAACC,CAAC,CAAC,GAACxC,CAAC,CAACyC,QAAQ,CAACxB,CAAC,CAAC;MAACyB,CAAC,GAACJ,CAAC,GAAClB,CAAC,GAACmB,CAAC;MAAC,CAACI,CAAC,EAACC,CAAC,CAAC,GAAC5C,CAAC,CAACyC,QAAQ,CAAC,CAAC,CAAC,CAAC;MAAC,CAACI,CAAC,EAACC,CAAC,CAAC,GAAC9C,CAAC,CAACyC,QAAQ,CAAC,IAAI,CAAC;MAACM,CAAC,GAAC7C,CAAC,CAACsB,CAAC,CAAC;MAACwB,CAAC,GAAChD,CAAC,CAACiD,OAAO,CAAE,MAAI;QAAC,IAAIjD,CAAC;QAAC,MAAME,CAAC,GAAC6C,CAAC,GAAC/C,CAAC,IAAEwB,CAAC,CAACxB,CAAC,EAAC0C,CAAC,CAAC,GAAC1C,CAAC,IAAE;UAAC,MAAK;YAACkD,KAAK,EAAChD;UAAC,CAAC,GAACF,CAAC;UAAC,OAAO,IAAI,IAAEE,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACiD,iBAAiB,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,IAAEV,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACS,iBAAiB,CAAC,CAAC,CAAC;QAAA,CAAC;QAAC,OAAO,IAAI,MAAInD,CAAC,GAAC,IAAI,IAAEsB,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAAC+B,MAAM,CAACnD,CAAC,CAAC,CAAC,IAAE,KAAK,CAAC,KAAGF,CAAC,GAACA,CAAC,GAAC,EAAE;MAAA,CAAC,EAAE,CAAC0C,CAAC,EAAClB,CAAC,EAACuB,CAAC,EAACzB,CAAC,CAAC,CAAC;MAACgC,CAAC,GAACxC,CAAC,CAAC,CAAC;MAACyC,CAAC,GAACzC,CAAC,CAAC,CAAC;MAAC0C,CAAC,GAAC1C,CAAC,CAAC,CAAC;MAAC2C,CAAC,GAAC3C,CAAC,CAAC,CAAC;MAAC4C,CAAC,GAACV,CAAC,CAACW,SAAS,CAAE3D,CAAC,IAAEA,CAAC,KAAG6C,CAAE,CAAC;MAACe,CAAC,GAAC,IAAI,MAAIvB,CAAC,GAAC,IAAI,IAAEQ,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACgB,EAAE,CAAC,IAAE,KAAK,CAAC,KAAGxB,CAAC,GAACA,CAAC,GAAC,CAAC,CAAC,KAAGqB,CAAC,GAAC,GAAGD,CAAC,WAAWC,CAAC,EAAE,GAAC,KAAK,CAAC;MAACI,CAAC,GAAC9D,CAAC,CAAC+D,WAAW,CAAE/D,CAAC,IAAE;QAAC4C,CAAC,CAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAAC,EAAC5C,CAAC,CAACwB,CAAC,CAAC,IAAEA,CAAC,CAAC1B,CAAC,CAAC;MAAA,CAAC,EAAE,CAAC0B,CAAC,CAAC,CAAC;MAACsC,CAAC,GAAChE,CAAC,CAAC+D,WAAW,CAAE/D,CAAC,IAAE;QAAC8C,CAAC,CAAC,IAAI,CAAC,EAACF,CAAC,CAAC,CAAC,CAAC,CAAC,EAACN,CAAC,IAAEE,CAAC,CAACxC,CAAC,CAACiE,MAAM,CAAC9C,KAAK,CAAC,EAACjB,CAAC,CAAC0B,CAAC,CAAC,IAAEA,CAAC,CAAC5B,CAAC,CAAC;MAAA,CAAC,EAAE,CAACsC,CAAC,EAACV,CAAC,CAAC,CAAC;MAACsC,CAAC,GAAClE,CAAC,CAAC+D,WAAW,CAAE,MAAI;QAACzB,CAAC,IAAEE,CAAC,CAAC,EAAE,CAAC,EAACtC,CAAC,CAAC4B,CAAC,CAAC,IAAEA,CAAC,CAAC,CAAC;MAAA,CAAC,EAAE,CAACQ,CAAC,EAACR,CAAC,CAAC,CAAC;MAACqC,CAAC,GAACnE,CAAC,CAAC+D,WAAW,CAAE/D,CAAC,IAAE;QAAC4C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC1C,CAAC,CAAC8B,CAAC,CAAC,IAAEA,CAAC,CAAChC,CAAC,CAAC;MAAA,CAAC,EAAE,CAACgC,CAAC,CAAC,CAAC;IAAC,OAAOhC,CAAC,CAACoE,SAAS,CAAE,MAAI;MAAC,MAAMpE,CAAC,GAACqE,QAAQ,CAACC,cAAc,CAAChB,CAAC,CAAC;QAACpD,CAAC,GAACmE,QAAQ,CAACC,cAAc,CAACd,CAAC,CAAC;MAAC,IAAGtD,CAAC,IAAEyC,CAAC,IAAE3C,CAAC,EAAC;QAAC,MAAK;YAACuE,MAAM,EAACnE;UAAC,CAAC,GAACF,CAAC,CAACsE,qBAAqB,CAAC,CAAC;UAAC;YAACC,YAAY,EAACnE,CAAC;YAACoE,SAAS,EAAClE;UAAC,CAAC,GAACR,CAAC;QAACM,CAAC,KAAG+D,QAAQ,CAACM,IAAI,IAAEvE,CAAC,GAACiE,QAAQ,CAACO,eAAe,CAACC,YAAY,IAAEC,MAAM,CAACC,QAAQ,CAAC;UAACC,GAAG,EAACC,IAAI,CAACC,GAAG,CAAC9E,CAAC,GAACiE,QAAQ,CAACO,eAAe,CAACC,YAAY,GAACC,MAAM,CAACK,OAAO,GAAC,EAAE,EAAC3E,CAAC,CAAC;UAAC4E,QAAQ,EAAC;QAAQ,CAAC,CAAC;MAAA;IAAC,CAAC,EAAE,CAAC9B,CAAC,EAACX,CAAC,EAACa,CAAC,CAAC,CAAC,EAACxD,CAAC,CAACoE,SAAS,CAAE,MAAI;MAAC,MAAMpE,CAAC,GAACqE,QAAQ,CAACC,cAAc,CAACf,CAAC,CAAC;QAACrD,CAAC,GAACU,CAAC,CAACgD,CAAC,CAAC,GAACS,QAAQ,CAACC,cAAc,CAACV,CAAC,CAAC,GAAC,IAAI;MAAC,IAAG1D,CAAC,IAAEF,CAAC,EAAC;QAAC,MAAK;YAACqF,SAAS,EAACjF,CAAC;YAACyE,YAAY,EAACvE;UAAC,CAAC,GAACN,CAAC;UAAC;YAACsF,YAAY,EAAC9E,CAAC;YAACkE,SAAS,EAAChE;UAAC,CAAC,GAACR,CAAC;UAAC;YAAC8E,GAAG,EAACpE,CAAC;YAAC2D,MAAM,EAACzD;UAAC,CAAC,GAACZ,CAAC,CAACsE,qBAAqB,CAAC,CAAC;QAACpE,CAAC,GAACM,CAAC,KAAGV,CAAC,CAACqF,SAAS,GAAC3E,CAAC,CAAC,EAACN,CAAC,GAACE,CAAC,GAACI,CAAC,GAACF,CAAC,KAAGR,CAAC,CAACqF,SAAS,GAAC3E,CAAC,GAACF,CAAC,GAACF,CAAC,CAAC,EAAC,CAACM,CAAC,GAAC,CAAC,IAAEE,CAAC,GAACuD,QAAQ,CAACO,eAAe,CAACC,YAAY,KAAG3E,CAAC,CAACqF,cAAc,CAAC;UAACH,QAAQ,EAAC,QAAQ;UAACI,KAAK,EAAC;QAAS,CAAC,CAAC;MAAA;IAAC,CAAC,EAAE,CAAC5B,CAAC,EAACL,CAAC,CAAC,CAAC,EAAC;MAACkC,cAAc,EAAC7B,CAAC;MAAC8B,cAAc,EAACpC,CAAC;MAACqC,aAAa,EAACjD,CAAC;MAACkD,eAAe,EAAC5C,CAAC;MAAC6C,YAAY,EAAC/B,CAAC;MAACgC,aAAa,EAAC5B,CAAC;MAAC6B,aAAa,EAAC5B,CAAC;MAAC6B,cAAc,EAAChC,CAAC;MAACiC,eAAe,EAACjG,CAAC,IAAE;QAAC,MAAK;UAACkG,GAAG,EAACtF;QAAC,CAAC,GAACZ,CAAC;QAAC,IAAGe,CAAC,CAACoF,GAAG,CAACvF,CAAC,CAAC,EAAC,QAAOZ,CAAC,CAACoG,cAAc,CAAC,CAAC,EAACxF,CAAC;UAAE,KAAKF,CAAC;YAACiC,CAAC,IAAEC,CAAC,CAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAAC,IAAEoB,CAAC,CAAC,CAAC;YAAC;UAAM,KAAK1D,CAAC;YAAC,IAAGqC,CAAC,EAAC;cAAC,MAAK;gBAACK,KAAK,EAAClD;cAAC,CAAC,GAAC6C,CAAC;cAACP,CAAC,IAAEE,CAAC,CAACxC,CAAC,CAAC,EAACE,CAAC,CAACgC,CAAC,CAAC,IAAEA,CAAC,CAACW,CAAC,CAAC;YAAA,CAAC,MAAK3C,CAAC,CAACkC,CAAC,CAAC,IAAEA,CAAC,CAACM,CAAC,CAAC;YAACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAACE,CAAC,CAAC,IAAI,CAAC;YAAC;UAAM,KAAKxC,CAAC;YAAC;cAAC,IAAG0C,CAAC,CAACqD,MAAM,IAAE,CAAC,EAAC;cAAOzD,CAAC,CAAC,CAAC,CAAC,CAAC;cAAC,MAAM5C,CAAC,GAAC0D,CAAC,IAAEV,CAAC,CAACqD,MAAM,GAAC,CAAC,GAAC,CAAC,GAAC3C,CAAC,GAAC,CAAC;cAACZ,CAAC,CAACE,CAAC,CAAChD,CAAC,CAAC,CAAC;cAAC;YAAK;UAAC,KAAKI,CAAC;YAAC;cAAC,IAAG4C,CAAC,CAACqD,MAAM,IAAE,CAAC,EAAC;cAAOzD,CAAC,CAAC,CAAC,CAAC,CAAC;cAAC,MAAM5C,CAAC,GAAC0D,CAAC,IAAE,CAAC,GAACV,CAAC,CAACqD,MAAM,GAAC,CAAC,GAAC3C,CAAC,GAAC,CAAC;cAACZ,CAAC,CAACE,CAAC,CAAChD,CAAC,CAAC,CAAC;YAAA;QAAC;MAAC,CAAC;MAACsG,YAAY,EAAChE,CAAC;MAACiE,iBAAiB,EAACxD,CAAC;MAACyD,UAAU,EAAC7D,CAAC;MAAC8D,SAAS,EAAClD,CAAC;MAACmD,MAAM,EAAClD,CAAC;MAACmD,YAAY,EAAClD,CAAC;MAACmD,eAAe,EAAC9D,CAAC;MAAC+D,aAAa,EAACjE,CAAC;MAACkE,gBAAgB,EAACtE;IAAC,CAAC;EAAA,CAAC;AAAC,SAAOvB,CAAC,IAAI8F,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}