{"ast":null,"code":"import { __awaiter as e } from \"tslib\";\nimport * as s from \"react\";\nimport { Hub as a } from \"@aws-amplify/core\";\nimport { Auth as i } from \"aws-amplify\";\nconst r = () => {\n  const [r, t] = s.useState({\n      error: void 0,\n      isLoading: !0,\n      user: void 0\n    }),\n    o = s.useCallback(() => e(void 0, void 0, void 0, function* () {\n      t(e => Object.assign(Object.assign({}, e), {\n        isLoading: !0\n      }));\n      try {\n        const e = yield i.currentAuthenticatedUser();\n        t({\n          user: e,\n          isLoading: !1\n        });\n      } catch (e) {\n        t({\n          error: e,\n          isLoading: !1\n        });\n      }\n    }), []),\n    n = s.useCallback(({\n      payload: e\n    }) => {\n      switch (e.event) {\n        case \"signIn\":\n        case \"signUp\":\n        case \"autoSignIn\":\n          t({\n            user: e.data,\n            isLoading: !1\n          });\n          break;\n        case \"signOut\":\n          t({\n            user: void 0,\n            isLoading: !1\n          });\n          break;\n        case \"tokenRefresh_failure\":\n        case \"signIn_failure\":\n          t({\n            error: e.data,\n            isLoading: !1\n          });\n          break;\n        case \"autoSignIn_failure\":\n          t({\n            error: new Error(e.message),\n            isLoading: !1\n          });\n          break;\n        case \"tokenRefresh\":\n          o();\n      }\n    }, [o]);\n  return s.useEffect(() => {\n    const e = a.listen(\"auth\", n, \"useAuth\");\n    return o(), e;\n  }, [n, o]), Object.assign(Object.assign({}, r), {\n    fetch: o\n  });\n};\nexport { r as useAuth };","map":{"version":3,"names":["__awaiter","e","s","Hub","a","Auth","i","r","t","useState","error","isLoading","user","o","useCallback","Object","assign","currentAuthenticatedUser","n","payload","event","data","Error","message","useEffect","listen","fetch","useAuth"],"sources":["C:/Users/jonat/aws_poc/frontend/node_modules/@aws-amplify/ui-react/dist/esm/hooks/useAuth.mjs"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import*as s from\"react\";import{Hub as a}from\"@aws-amplify/core\";import{Auth as i}from\"aws-amplify\";const r=()=>{const[r,t]=s.useState({error:void 0,isLoading:!0,user:void 0}),o=s.useCallback((()=>e(void 0,void 0,void 0,(function*(){t((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{const e=yield i.currentAuthenticatedUser();t({user:e,isLoading:!1})}catch(e){t({error:e,isLoading:!1})}}))),[]),n=s.useCallback((({payload:e})=>{switch(e.event){case\"signIn\":case\"signUp\":case\"autoSignIn\":t({user:e.data,isLoading:!1});break;case\"signOut\":t({user:void 0,isLoading:!1});break;case\"tokenRefresh_failure\":case\"signIn_failure\":t({error:e.data,isLoading:!1});break;case\"autoSignIn_failure\":t({error:new Error(e.message),isLoading:!1});break;case\"tokenRefresh\":o()}}),[o]);return s.useEffect((()=>{const e=a.listen(\"auth\",n,\"useAuth\");return o(),e}),[n,o]),Object.assign(Object.assign({},r),{fetch:o})};export{r as useAuth};\n"],"mappings":"AAAA,SAAOA,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,OAAM,KAAIC,CAAC,MAAK,OAAO;AAAC,SAAOC,GAAG,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,IAAI,IAAIC,CAAC,QAAK,aAAa;AAAC,MAAMC,CAAC,GAACA,CAAA,KAAI;EAAC,MAAK,CAACA,CAAC,EAACC,CAAC,CAAC,GAACN,CAAC,CAACO,QAAQ,CAAC;MAACC,KAAK,EAAC,KAAK,CAAC;MAACC,SAAS,EAAC,CAAC,CAAC;MAACC,IAAI,EAAC,KAAK;IAAC,CAAC,CAAC;IAACC,CAAC,GAACX,CAAC,CAACY,WAAW,CAAE,MAAIb,CAAC,CAAC,KAAK,CAAC,EAAC,KAAK,CAAC,EAAC,KAAK,CAAC,EAAE,aAAW;MAACO,CAAC,CAAEP,CAAC,IAAEc,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAACf,CAAC,CAAC,EAAC;QAACU,SAAS,EAAC,CAAC;MAAC,CAAC,CAAE,CAAC;MAAC,IAAG;QAAC,MAAMV,CAAC,GAAC,MAAMK,CAAC,CAACW,wBAAwB,CAAC,CAAC;QAACT,CAAC,CAAC;UAACI,IAAI,EAACX,CAAC;UAACU,SAAS,EAAC,CAAC;QAAC,CAAC,CAAC;MAAA,CAAC,QAAMV,CAAC,EAAC;QAACO,CAAC,CAAC;UAACE,KAAK,EAACT,CAAC;UAACU,SAAS,EAAC,CAAC;QAAC,CAAC,CAAC;MAAA;IAAC,CAAE,CAAC,EAAE,EAAE,CAAC;IAACO,CAAC,GAAChB,CAAC,CAACY,WAAW,CAAE,CAAC;MAACK,OAAO,EAAClB;IAAC,CAAC,KAAG;MAAC,QAAOA,CAAC,CAACmB,KAAK;QAAE,KAAI,QAAQ;QAAC,KAAI,QAAQ;QAAC,KAAI,YAAY;UAACZ,CAAC,CAAC;YAACI,IAAI,EAACX,CAAC,CAACoB,IAAI;YAACV,SAAS,EAAC,CAAC;UAAC,CAAC,CAAC;UAAC;QAAM,KAAI,SAAS;UAACH,CAAC,CAAC;YAACI,IAAI,EAAC,KAAK,CAAC;YAACD,SAAS,EAAC,CAAC;UAAC,CAAC,CAAC;UAAC;QAAM,KAAI,sBAAsB;QAAC,KAAI,gBAAgB;UAACH,CAAC,CAAC;YAACE,KAAK,EAACT,CAAC,CAACoB,IAAI;YAACV,SAAS,EAAC,CAAC;UAAC,CAAC,CAAC;UAAC;QAAM,KAAI,oBAAoB;UAACH,CAAC,CAAC;YAACE,KAAK,EAAC,IAAIY,KAAK,CAACrB,CAAC,CAACsB,OAAO,CAAC;YAACZ,SAAS,EAAC,CAAC;UAAC,CAAC,CAAC;UAAC;QAAM,KAAI,cAAc;UAACE,CAAC,CAAC,CAAC;MAAA;IAAC,CAAC,EAAE,CAACA,CAAC,CAAC,CAAC;EAAC,OAAOX,CAAC,CAACsB,SAAS,CAAE,MAAI;IAAC,MAAMvB,CAAC,GAACG,CAAC,CAACqB,MAAM,CAAC,MAAM,EAACP,CAAC,EAAC,SAAS,CAAC;IAAC,OAAOL,CAAC,CAAC,CAAC,EAACZ,CAAC;EAAA,CAAC,EAAE,CAACiB,CAAC,EAACL,CAAC,CAAC,CAAC,EAACE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAACT,CAAC,CAAC,EAAC;IAACmB,KAAK,EAACb;EAAC,CAAC,CAAC;AAAA,CAAC;AAAC,SAAON,CAAC,IAAIoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}