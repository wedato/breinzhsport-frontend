{"ast":null,"code":"/**\n * Note: This file was copied from mapbox-gl-draw@1.1.1 because it is no longer accessible in later versions of mapbox-gl-draw which are required for security benefits.\n *\n * If this PR gets merged https://github.com/mapbox/mapbox-gl-draw/pull/1100 or mapbox-gl-draw is forked to maplibre-gl-draw we should investigate removing these files and getting the dependencies from mapbox-gl-draw\n */\n\nconst Constants = require(\"./constants\");\nmodule.exports = function (parent, startVertex, endVertex, map) {\n  const startCoord = startVertex.geometry.coordinates;\n  const endCoord = endVertex.geometry.coordinates;\n\n  // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n  if (startCoord[1] > Constants.LAT_RENDERED_MAX || startCoord[1] < Constants.LAT_RENDERED_MIN || endCoord[1] > Constants.LAT_RENDERED_MAX || endCoord[1] < Constants.LAT_RENDERED_MIN) {\n    return null;\n  }\n  const ptA = map.project([startCoord[0], startCoord[1]]);\n  const ptB = map.project([endCoord[0], endCoord[1]]);\n  const mid = map.unproject([(ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2]);\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.MIDPOINT,\n      parent: parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat]\n    }\n  };\n};","map":{"version":3,"names":["Constants","require","module","exports","parent","startVertex","endVertex","map","startCoord","geometry","coordinates","endCoord","LAT_RENDERED_MAX","LAT_RENDERED_MIN","ptA","project","ptB","mid","unproject","x","y","type","geojsonTypes","FEATURE","properties","meta","MIDPOINT","lng","lat","coord_path","POINT"],"sources":["C:/Users/jonat/aws_poc/frontend/node_modules/maplibre-gl-draw-circle/lib/utils/create_midpoint.js"],"sourcesContent":["/**\n * Note: This file was copied from mapbox-gl-draw@1.1.1 because it is no longer accessible in later versions of mapbox-gl-draw which are required for security benefits.\n *\n * If this PR gets merged https://github.com/mapbox/mapbox-gl-draw/pull/1100 or mapbox-gl-draw is forked to maplibre-gl-draw we should investigate removing these files and getting the dependencies from mapbox-gl-draw\n */\n\nconst Constants = require(\"./constants\");\n\nmodule.exports = function (parent, startVertex, endVertex, map) {\n  const startCoord = startVertex.geometry.coordinates;\n  const endCoord = endVertex.geometry.coordinates;\n\n  // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n  if (\n    startCoord[1] > Constants.LAT_RENDERED_MAX ||\n    startCoord[1] < Constants.LAT_RENDERED_MIN ||\n    endCoord[1] > Constants.LAT_RENDERED_MAX ||\n    endCoord[1] < Constants.LAT_RENDERED_MIN\n  ) {\n    return null;\n  }\n\n  const ptA = map.project([startCoord[0], startCoord[1]]);\n  const ptB = map.project([endCoord[0], endCoord[1]]);\n  const mid = map.unproject([(ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2]);\n\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.MIDPOINT,\n      parent: parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path,\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat],\n    },\n  };\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,aAAa,CAAC;AAExCC,MAAM,CAACC,OAAO,GAAG,UAAUC,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAEC,GAAG,EAAE;EAC9D,MAAMC,UAAU,GAAGH,WAAW,CAACI,QAAQ,CAACC,WAAW;EACnD,MAAMC,QAAQ,GAAGL,SAAS,CAACG,QAAQ,CAACC,WAAW;;EAE/C;EACA;EACA,IACEF,UAAU,CAAC,CAAC,CAAC,GAAGR,SAAS,CAACY,gBAAgB,IAC1CJ,UAAU,CAAC,CAAC,CAAC,GAAGR,SAAS,CAACa,gBAAgB,IAC1CF,QAAQ,CAAC,CAAC,CAAC,GAAGX,SAAS,CAACY,gBAAgB,IACxCD,QAAQ,CAAC,CAAC,CAAC,GAAGX,SAAS,CAACa,gBAAgB,EACxC;IACA,OAAO,IAAI;EACb;EAEA,MAAMC,GAAG,GAAGP,GAAG,CAACQ,OAAO,CAAC,CAACP,UAAU,CAAC,CAAC,CAAC,EAAEA,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EACvD,MAAMQ,GAAG,GAAGT,GAAG,CAACQ,OAAO,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACnD,MAAMM,GAAG,GAAGV,GAAG,CAACW,SAAS,CAAC,CAAC,CAACJ,GAAG,CAACK,CAAC,GAAGH,GAAG,CAACG,CAAC,IAAI,CAAC,EAAE,CAACL,GAAG,CAACM,CAAC,GAAGJ,GAAG,CAACI,CAAC,IAAI,CAAC,CAAC,CAAC;EAErE,OAAO;IACLC,IAAI,EAAErB,SAAS,CAACsB,YAAY,CAACC,OAAO;IACpCC,UAAU,EAAE;MACVC,IAAI,EAAEzB,SAAS,CAACyB,IAAI,CAACC,QAAQ;MAC7BtB,MAAM,EAAEA,MAAM;MACduB,GAAG,EAAEV,GAAG,CAACU,GAAG;MACZC,GAAG,EAAEX,GAAG,CAACW,GAAG;MACZC,UAAU,EAAEvB,SAAS,CAACkB,UAAU,CAACK;IACnC,CAAC;IACDpB,QAAQ,EAAE;MACRY,IAAI,EAAErB,SAAS,CAACsB,YAAY,CAACQ,KAAK;MAClCpB,WAAW,EAAE,CAACO,GAAG,CAACU,GAAG,EAAEV,GAAG,CAACW,GAAG;IAChC;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}