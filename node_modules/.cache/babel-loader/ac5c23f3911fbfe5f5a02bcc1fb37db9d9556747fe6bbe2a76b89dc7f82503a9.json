{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import{CartContext}from\"../context/CartContext\";import{AuthContext}from\"../context/AuthContext\";import\"./CheckoutPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CheckoutPage(){const navigate=useNavigate();const{cart,getCartTotal,clearCart}=useContext(CartContext);const{isAuthenticated}=useContext(AuthContext);const[formData,setFormData]=useState({firstName:\"\",lastName:\"\",email:\"\",address:\"\",city:\"\",postalCode:\"\",country:\"France\",paymentMethod:\"card\"});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[orderSuccess,setOrderSuccess]=useState(false);// Rediriger si le panier est vide\nif(cart.length===0&&!orderSuccess){navigate(\"/cart\");return null;}const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Effacer l'erreur lorsque l'utilisateur modifie le champ\nif(errors[name]){setErrors(prev=>({...prev,[name]:null}));}};const validateForm=()=>{const newErrors={};if(!formData.firstName.trim()){newErrors.firstName=\"Le prénom est requis\";}if(!formData.lastName.trim()){newErrors.lastName=\"Le nom est requis\";}if(!formData.email.trim()){newErrors.email=\"L'email est requis\";}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){newErrors.email=\"Format d'email invalide\";}if(!formData.address.trim()){newErrors.address=\"L'adresse est requise\";}if(!formData.city.trim()){newErrors.city=\"La ville est requise\";}if(!formData.postalCode.trim()){newErrors.postalCode=\"Le code postal est requis\";}else if(!/^\\d{5}$/.test(formData.postalCode)){newErrors.postalCode=\"Le code postal doit contenir 5 chiffres\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{// Simuler un appel API pour créer une commande\n// Dans une application réelle, nous utiliserions createOrder() de l'API\n// Préparer les données de la commande\n// Variable commentée pour éviter l'avertissement ESLint\n/*const orderData = {\n        userId: isAuthenticated ? 'authenticated-user' : 'guest-user',\n        items: cart.map(item => ({\n          productId: item.id,\n          name: item.name,\n          price: item.price,\n          quantity: item.quantity\n        })),\n        total: getCartTotal(),\n        shippingAddress: {\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          address: formData.address,\n          city: formData.city,\n          postalCode: formData.postalCode,\n          country: formData.country\n        },\n        paymentDetails: {\n          method: formData.paymentMethod\n        }\n      };*/// Simuler un délai de traitement\nawait new Promise(resolve=>setTimeout(resolve,1500));// Vider le panier après une commande réussie\nclearCart();setOrderSuccess(true);// Dans une application réelle:\n// const response = await createOrder(orderData);\n// if (response.id) {\n//   clearCart();\n//   setOrderSuccess(true);\n// }\n}catch(error){console.error(\"Erreur lors de la création de la commande:\",error);setErrors({submit:\"Une erreur est survenue lors du traitement de votre commande. Veuillez réessayer.\"});}finally{setIsSubmitting(false);}};if(orderSuccess){return/*#__PURE__*/_jsx(\"div\",{className:\"checkout-page order-success\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"success-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Commande confirm\\xE9e !\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Merci pour votre achat. Votre commande a \\xE9t\\xE9 trait\\xE9e avec succ\\xE8s.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Un email de confirmation a \\xE9t\\xE9 envoy\\xE9 \\xE0 \",formData.email,\".\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>navigate(\"/products\"),children:\"Continuer vos achats\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Finaliser votre commande\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkout-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"checkout-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Informations de livraison\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",value:formData.firstName,onChange:handleChange,className:errors.firstName?\"form-control error\":\"form-control\"}),errors.firstName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Nom\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",value:formData.lastName,onChange:handleChange,className:errors.lastName?\"form-control error\":\"form-control\"}),errors.lastName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.lastName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,className:errors.email?\"form-control error\":\"form-control\"}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Adresse\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",name:\"address\",value:formData.address,onChange:handleChange,className:errors.address?\"form-control error\":\"form-control\"}),errors.address&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"Ville\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",name:\"city\",value:formData.city,onChange:handleChange,className:errors.city?\"form-control error\":\"form-control\"}),errors.city&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.city})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postalCode\",children:\"Code postal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"postalCode\",name:\"postalCode\",value:formData.postalCode,onChange:handleChange,className:errors.postalCode?\"form-control error\":\"form-control\"}),errors.postalCode&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.postalCode})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Pays\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"country\",name:\"country\",value:formData.country,onChange:handleChange,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"France\",children:\"France\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Belgique\",children:\"Belgique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Suisse\",children:\"Suisse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Canada\",children:\"Canada\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Mode de paiement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-method\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"card\",name:\"paymentMethod\",value:\"card\",checked:formData.paymentMethod===\"card\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"card\",children:\"Carte bancaire\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-method\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"paypal\",name:\"paymentMethod\",value:\"paypal\",checked:formData.paymentMethod===\"paypal\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"paypal\",children:\"PayPal\"})]})]}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message submit-error\",children:errors.submit}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn place-order-btn\",disabled:isSubmitting,children:isSubmitting?\"Traitement en cours...\":\"Passer la commande\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"R\\xE9capitulatif de la commande\"}),/*#__PURE__*/_jsx(\"div\",{className:\"order-items\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantit\\xE9: \",item.quantity]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price\",children:[(item.price*item.quantity).toFixed(2),\" \\u20AC\"]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-totals\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sous-total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[getCartTotal().toFixed(2),\" \\u20AC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Livraison:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Gratuite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-row grand-total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[getCartTotal().toFixed(2),\" \\u20AC\"]})]})]})]})]})]});}export default CheckoutPage;","map":{"version":3,"names":["React","useState","useContext","useNavigate","CartContext","AuthContext","jsx","_jsx","jsxs","_jsxs","CheckoutPage","navigate","cart","getCartTotal","clearCart","isAuthenticated","formData","setFormData","firstName","lastName","email","address","city","postalCode","country","paymentMethod","errors","setErrors","isSubmitting","setIsSubmitting","orderSuccess","setOrderSuccess","length","handleChange","e","name","value","target","prev","validateForm","newErrors","trim","test","Object","keys","handleSubmit","preventDefault","Promise","resolve","setTimeout","error","console","submit","className","children","onClick","onSubmit","htmlFor","type","id","onChange","checked","disabled","map","item","src","image","alt","quantity","price","toFixed"],"sources":["C:/Users/jonat/aws_poc/frontend/src/pages/CheckoutPage.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CartContext } from \"../context/CartContext\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport \"./CheckoutPage.css\";\n\nfunction CheckoutPage() {\n  const navigate = useNavigate();\n  const { cart, getCartTotal, clearCart } = useContext(CartContext);\n  const { isAuthenticated } = useContext(AuthContext);\n\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    address: \"\",\n    city: \"\",\n    postalCode: \"\",\n    country: \"France\",\n    paymentMethod: \"card\",\n  });\n\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n\n  // Rediriger si le panier est vide\n  if (cart.length === 0 && !orderSuccess) {\n    navigate(\"/cart\");\n    return null;\n  }\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n    // Effacer l'erreur lorsque l'utilisateur modifie le champ\n    if (errors[name]) {\n      setErrors((prev) => ({\n        ...prev,\n        [name]: null,\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.firstName.trim()) {\n      newErrors.firstName = \"Le prénom est requis\";\n    }\n\n    if (!formData.lastName.trim()) {\n      newErrors.lastName = \"Le nom est requis\";\n    }\n\n    if (!formData.email.trim()) {\n      newErrors.email = \"L'email est requis\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = \"Format d'email invalide\";\n    }\n\n    if (!formData.address.trim()) {\n      newErrors.address = \"L'adresse est requise\";\n    }\n\n    if (!formData.city.trim()) {\n      newErrors.city = \"La ville est requise\";\n    }\n\n    if (!formData.postalCode.trim()) {\n      newErrors.postalCode = \"Le code postal est requis\";\n    } else if (!/^\\d{5}$/.test(formData.postalCode)) {\n      newErrors.postalCode = \"Le code postal doit contenir 5 chiffres\";\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Simuler un appel API pour créer une commande\n      // Dans une application réelle, nous utiliserions createOrder() de l'API\n\n      // Préparer les données de la commande\n      // Variable commentée pour éviter l'avertissement ESLint\n      /*const orderData = {\n        userId: isAuthenticated ? 'authenticated-user' : 'guest-user',\n        items: cart.map(item => ({\n          productId: item.id,\n          name: item.name,\n          price: item.price,\n          quantity: item.quantity\n        })),\n        total: getCartTotal(),\n        shippingAddress: {\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          address: formData.address,\n          city: formData.city,\n          postalCode: formData.postalCode,\n          country: formData.country\n        },\n        paymentDetails: {\n          method: formData.paymentMethod\n        }\n      };*/\n\n      // Simuler un délai de traitement\n      await new Promise((resolve) => setTimeout(resolve, 1500));\n\n      // Vider le panier après une commande réussie\n      clearCart();\n      setOrderSuccess(true);\n\n      // Dans une application réelle:\n      // const response = await createOrder(orderData);\n      // if (response.id) {\n      //   clearCart();\n      //   setOrderSuccess(true);\n      // }\n    } catch (error) {\n      console.error(\"Erreur lors de la création de la commande:\", error);\n      setErrors({\n        submit:\n          \"Une erreur est survenue lors du traitement de votre commande. Veuillez réessayer.\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (orderSuccess) {\n    return (\n      <div className=\"checkout-page order-success\">\n        <div className=\"success-container\">\n          <div className=\"success-icon\">✓</div>\n          <h1>Commande confirmée !</h1>\n          <p>\n            Merci pour votre achat. Votre commande a été traitée avec succès.\n          </p>\n          <p>Un email de confirmation a été envoyé à {formData.email}.</p>\n          <button className=\"btn\" onClick={() => navigate(\"/products\")}>\n            Continuer vos achats\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"checkout-page\">\n      <h1>Finaliser votre commande</h1>\n\n      <div className=\"checkout-container\">\n        <div className=\"checkout-form-container\">\n          <form onSubmit={handleSubmit} className=\"checkout-form\">\n            <h2>Informations de livraison</h2>\n\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor=\"firstName\">Prénom</label>\n                <input\n                  type=\"text\"\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  className={\n                    errors.firstName ? \"form-control error\" : \"form-control\"\n                  }\n                />\n                {errors.firstName && (\n                  <div className=\"error-message\">{errors.firstName}</div>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"lastName\">Nom</label>\n                <input\n                  type=\"text\"\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  className={\n                    errors.lastName ? \"form-control error\" : \"form-control\"\n                  }\n                />\n                {errors.lastName && (\n                  <div className=\"error-message\">{errors.lastName}</div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className={errors.email ? \"form-control error\" : \"form-control\"}\n              />\n              {errors.email && (\n                <div className=\"error-message\">{errors.email}</div>\n              )}\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"address\">Adresse</label>\n              <input\n                type=\"text\"\n                id=\"address\"\n                name=\"address\"\n                value={formData.address}\n                onChange={handleChange}\n                className={\n                  errors.address ? \"form-control error\" : \"form-control\"\n                }\n              />\n              {errors.address && (\n                <div className=\"error-message\">{errors.address}</div>\n              )}\n            </div>\n\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor=\"city\">Ville</label>\n                <input\n                  type=\"text\"\n                  id=\"city\"\n                  name=\"city\"\n                  value={formData.city}\n                  onChange={handleChange}\n                  className={\n                    errors.city ? \"form-control error\" : \"form-control\"\n                  }\n                />\n                {errors.city && (\n                  <div className=\"error-message\">{errors.city}</div>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"postalCode\">Code postal</label>\n                <input\n                  type=\"text\"\n                  id=\"postalCode\"\n                  name=\"postalCode\"\n                  value={formData.postalCode}\n                  onChange={handleChange}\n                  className={\n                    errors.postalCode ? \"form-control error\" : \"form-control\"\n                  }\n                />\n                {errors.postalCode && (\n                  <div className=\"error-message\">{errors.postalCode}</div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"country\">Pays</label>\n              <select\n                id=\"country\"\n                name=\"country\"\n                value={formData.country}\n                onChange={handleChange}\n                className=\"form-control\"\n              >\n                <option value=\"France\">France</option>\n                <option value=\"Belgique\">Belgique</option>\n                <option value=\"Suisse\">Suisse</option>\n                <option value=\"Canada\">Canada</option>\n              </select>\n            </div>\n\n            <h2>Mode de paiement</h2>\n\n            <div className=\"payment-methods\">\n              <div className=\"payment-method\">\n                <input\n                  type=\"radio\"\n                  id=\"card\"\n                  name=\"paymentMethod\"\n                  value=\"card\"\n                  checked={formData.paymentMethod === \"card\"}\n                  onChange={handleChange}\n                />\n                <label htmlFor=\"card\">Carte bancaire</label>\n              </div>\n\n              <div className=\"payment-method\">\n                <input\n                  type=\"radio\"\n                  id=\"paypal\"\n                  name=\"paymentMethod\"\n                  value=\"paypal\"\n                  checked={formData.paymentMethod === \"paypal\"}\n                  onChange={handleChange}\n                />\n                <label htmlFor=\"paypal\">PayPal</label>\n              </div>\n            </div>\n\n            {errors.submit && (\n              <div className=\"error-message submit-error\">{errors.submit}</div>\n            )}\n\n            <button\n              type=\"submit\"\n              className=\"btn place-order-btn\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? \"Traitement en cours...\" : \"Passer la commande\"}\n            </button>\n          </form>\n        </div>\n\n        <div className=\"order-summary\">\n          <h2>Récapitulatif de la commande</h2>\n\n          <div className=\"order-items\">\n            {cart.map((item) => (\n              <div key={item.id} className=\"order-item\">\n                <div className=\"item-info\">\n                  <img src={item.image} alt={item.name} />\n                  <div>\n                    <h3>{item.name}</h3>\n                    <p>Quantité: {item.quantity}</p>\n                  </div>\n                </div>\n                <div className=\"item-price\">\n                  {(item.price * item.quantity).toFixed(2)} €\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"order-totals\">\n            <div className=\"total-row\">\n              <span>Sous-total:</span>\n              <span>{getCartTotal().toFixed(2)} €</span>\n            </div>\n\n            <div className=\"total-row\">\n              <span>Livraison:</span>\n              <span>Gratuite</span>\n            </div>\n\n            <div className=\"total-row grand-total\">\n              <span>Total:</span>\n              <span>{getCartTotal().toFixed(2)} €</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CheckoutPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}