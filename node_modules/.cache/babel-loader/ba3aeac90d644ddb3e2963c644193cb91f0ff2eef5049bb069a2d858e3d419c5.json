{"ast":null,"code":"import { useState as e, useEffect as r } from \"react\";\nimport { ConsoleLogger as o } from \"@aws-amplify/core\";\nimport { ImagePrefetchStatus as t } from \"./types.mjs\";\nconst a = new o(\"Notifications.InAppMessaging\");\nfunction n(o) {\n  const {\n      src: n\n    } = null != o ? o : {},\n    s = !!n,\n    [c, i] = e(s ? t.Fetching : null),\n    m = c === t.Fetching,\n    l = c === t.Success;\n  return r(() => {\n    if (!s) return;\n    const e = new Image();\n    e.onload = () => {\n      i(t.Success);\n    }, e.onabort = () => {\n      a.error(`Image load aborted: ${n}`), i(t.Aborted);\n    }, e.onerror = () => {\n      a.error(`Image failed to load: ${n}`), i(t.Failure);\n    }, e.src = n;\n  }, [s, n]), {\n    hasRenderableImage: l,\n    isImageFetching: m\n  };\n}\nexport { n as default };","map":{"version":3,"names":["useState","e","useEffect","r","ConsoleLogger","o","ImagePrefetchStatus","t","a","n","src","s","c","i","Fetching","m","l","Success","Image","onload","onabort","error","Aborted","onerror","Failure","hasRenderableImage","isImageFetching","default"],"sources":["C:/Users/jonat/aws_poc/frontend/node_modules/@aws-amplify/ui-react/dist/esm/components/InAppMessaging/hooks/useMessageImage/useMessageImage.mjs"],"sourcesContent":["import{useState as e,useEffect as r}from\"react\";import{ConsoleLogger as o}from\"@aws-amplify/core\";import{ImagePrefetchStatus as t}from\"./types.mjs\";const a=new o(\"Notifications.InAppMessaging\");function n(o){const{src:n}=null!=o?o:{},s=!!n,[c,i]=e(s?t.Fetching:null),m=c===t.Fetching,l=c===t.Success;return r((()=>{if(!s)return;const e=new Image;e.onload=()=>{i(t.Success)},e.onabort=()=>{a.error(`Image load aborted: ${n}`),i(t.Aborted)},e.onerror=()=>{a.error(`Image failed to load: ${n}`),i(t.Failure)},e.src=n}),[s,n]),{hasRenderableImage:l,isImageFetching:m}}export{n as default};\n"],"mappings":"AAAA,SAAOA,QAAQ,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,mBAAmB;AAAC,SAAOC,mBAAmB,IAAIC,CAAC,QAAK,aAAa;AAAC,MAAMC,CAAC,GAAC,IAAIH,CAAC,CAAC,8BAA8B,CAAC;AAAC,SAASI,CAACA,CAACJ,CAAC,EAAC;EAAC,MAAK;MAACK,GAAG,EAACD;IAAC,CAAC,GAAC,IAAI,IAAEJ,CAAC,GAACA,CAAC,GAAC,CAAC,CAAC;IAACM,CAAC,GAAC,CAAC,CAACF,CAAC;IAAC,CAACG,CAAC,EAACC,CAAC,CAAC,GAACZ,CAAC,CAACU,CAAC,GAACJ,CAAC,CAACO,QAAQ,GAAC,IAAI,CAAC;IAACC,CAAC,GAACH,CAAC,KAAGL,CAAC,CAACO,QAAQ;IAACE,CAAC,GAACJ,CAAC,KAAGL,CAAC,CAACU,OAAO;EAAC,OAAOd,CAAC,CAAE,MAAI;IAAC,IAAG,CAACQ,CAAC,EAAC;IAAO,MAAMV,CAAC,GAAC,IAAIiB,KAAK,CAAD,CAAC;IAACjB,CAAC,CAACkB,MAAM,GAAC,MAAI;MAACN,CAAC,CAACN,CAAC,CAACU,OAAO,CAAC;IAAA,CAAC,EAAChB,CAAC,CAACmB,OAAO,GAAC,MAAI;MAACZ,CAAC,CAACa,KAAK,CAAC,uBAAuBZ,CAAC,EAAE,CAAC,EAACI,CAAC,CAACN,CAAC,CAACe,OAAO,CAAC;IAAA,CAAC,EAACrB,CAAC,CAACsB,OAAO,GAAC,MAAI;MAACf,CAAC,CAACa,KAAK,CAAC,yBAAyBZ,CAAC,EAAE,CAAC,EAACI,CAAC,CAACN,CAAC,CAACiB,OAAO,CAAC;IAAA,CAAC,EAACvB,CAAC,CAACS,GAAG,GAACD,CAAC;EAAA,CAAC,EAAE,CAACE,CAAC,EAACF,CAAC,CAAC,CAAC,EAAC;IAACgB,kBAAkB,EAACT,CAAC;IAACU,eAAe,EAACX;EAAC,CAAC;AAAA;AAAC,SAAON,CAAC,IAAIkB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}