{"ast":null,"code":"import{API}from\"aws-amplify\";import AWSXRay,{traceApiCall}from\"../xray-config\";const API_NAME=\"breizhsportApi\";// Fonctions pour les produits\nexport const getProducts=async()=>{try{const segment=AWSXRay.beginSegment(\"getProducts\");try{const result=await API.get(API_NAME,\"/products\",{});segment.close();return result;}catch(error){segment.addError(error);segment.close();throw error;}}catch(error){console.error(\"Erreur lors de la récupération des produits:\",error);throw error;}};export const getProduct=async productId=>{try{const segment=AWSXRay.beginSegment(\"getProduct\");segment.addAnnotation(\"productId\",productId);try{const result=await API.get(API_NAME,`/products/${productId}`,{});segment.close();return result;}catch(error){segment.addError(error);segment.close();throw error;}}catch(error){console.error(`Erreur lors de la récupération du produit ${productId}:`,error);throw error;}};export const createProduct=async productData=>{try{return await API.post(API_NAME,\"/products\",{body:productData});}catch(error){console.error(\"Erreur lors de la création du produit:\",error);throw error;}};export const updateProduct=async(productId,productData)=>{try{return await API.put(API_NAME,`/products/${productId}`,{body:productData});}catch(error){console.error(`Erreur lors de la mise à jour du produit ${productId}:`,error);throw error;}};export const deleteProduct=async productId=>{try{return await API.del(API_NAME,`/products/${productId}`,{});}catch(error){console.error(`Erreur lors de la suppression du produit ${productId}:`,error);throw error;}};// Fonctions pour les commandes\nexport const getOrders=async()=>{try{const segment=AWSXRay.beginSegment(\"getOrders\");try{const result=await API.get(API_NAME,\"/orders\",{});segment.close();return result;}catch(error){segment.addError(error);segment.close();throw error;}}catch(error){console.error(\"Erreur lors de la récupération des commandes:\",error);throw error;}};export const getOrder=async orderId=>{try{return await API.get(API_NAME,`/orders/${orderId}`,{});}catch(error){console.error(`Erreur lors de la récupération de la commande ${orderId}:`,error);throw error;}};export const createOrder=async orderData=>{try{return await API.post(API_NAME,\"/orders\",{body:orderData});}catch(error){console.error(\"Erreur lors de la création de la commande:\",error);throw error;}};// Fonctions pour les utilisateurs\nexport const getUserInfo=async()=>{try{const segment=AWSXRay.beginSegment(\"getUserInfo\");try{const result=await API.get(API_NAME,\"/users/me\",{});segment.close();return result;}catch(error){segment.addError(error);segment.close();throw error;}}catch(error){console.error(\"Erreur lors de la récupération des informations utilisateur:\",error);throw error;}};export const updateUserInfo=async userData=>{try{return await API.put(API_NAME,\"/users/me\",{body:userData});}catch(error){console.error(\"Erreur lors de la mise à jour des informations utilisateur:\",error);throw error;}};","map":{"version":3,"names":["API","AWSXRay","traceApiCall","API_NAME","getProducts","segment","beginSegment","result","get","close","error","addError","console","getProduct","productId","addAnnotation","createProduct","productData","post","body","updateProduct","put","deleteProduct","del","getOrders","getOrder","orderId","createOrder","orderData","getUserInfo","updateUserInfo","userData"],"sources":["C:/Users/jonat/aws_poc/frontend/src/services/api.js"],"sourcesContent":["import { API } from \"aws-amplify\";\nimport AWSXRay, { traceApiCall } from \"../xray-config\";\n\nconst API_NAME = \"breizhsportApi\";\n\n// Fonctions pour les produits\nexport const getProducts = async () => {\n  try {\n    const segment = AWSXRay.beginSegment(\"getProducts\");\n    try {\n      const result = await API.get(API_NAME, \"/products\", {});\n      segment.close();\n      return result;\n    } catch (error) {\n      segment.addError(error);\n      segment.close();\n      throw error;\n    }\n  } catch (error) {\n    console.error(\"Erreur lors de la récupération des produits:\", error);\n    throw error;\n  }\n};\n\nexport const getProduct = async (productId) => {\n  try {\n    const segment = AWSXRay.beginSegment(\"getProduct\");\n    segment.addAnnotation(\"productId\", productId);\n    try {\n      const result = await API.get(API_NAME, `/products/${productId}`, {});\n      segment.close();\n      return result;\n    } catch (error) {\n      segment.addError(error);\n      segment.close();\n      throw error;\n    }\n  } catch (error) {\n    console.error(\n      `Erreur lors de la récupération du produit ${productId}:`,\n      error\n    );\n    throw error;\n  }\n};\n\nexport const createProduct = async (productData) => {\n  try {\n    return await API.post(API_NAME, \"/products\", {\n      body: productData,\n    });\n  } catch (error) {\n    console.error(\"Erreur lors de la création du produit:\", error);\n    throw error;\n  }\n};\n\nexport const updateProduct = async (productId, productData) => {\n  try {\n    return await API.put(API_NAME, `/products/${productId}`, {\n      body: productData,\n    });\n  } catch (error) {\n    console.error(\n      `Erreur lors de la mise à jour du produit ${productId}:`,\n      error\n    );\n    throw error;\n  }\n};\n\nexport const deleteProduct = async (productId) => {\n  try {\n    return await API.del(API_NAME, `/products/${productId}`, {});\n  } catch (error) {\n    console.error(\n      `Erreur lors de la suppression du produit ${productId}:`,\n      error\n    );\n    throw error;\n  }\n};\n\n// Fonctions pour les commandes\nexport const getOrders = async () => {\n  try {\n    const segment = AWSXRay.beginSegment(\"getOrders\");\n    try {\n      const result = await API.get(API_NAME, \"/orders\", {});\n      segment.close();\n      return result;\n    } catch (error) {\n      segment.addError(error);\n      segment.close();\n      throw error;\n    }\n  } catch (error) {\n    console.error(\"Erreur lors de la récupération des commandes:\", error);\n    throw error;\n  }\n};\n\nexport const getOrder = async (orderId) => {\n  try {\n    return await API.get(API_NAME, `/orders/${orderId}`, {});\n  } catch (error) {\n    console.error(\n      `Erreur lors de la récupération de la commande ${orderId}:`,\n      error\n    );\n    throw error;\n  }\n};\n\nexport const createOrder = async (orderData) => {\n  try {\n    return await API.post(API_NAME, \"/orders\", {\n      body: orderData,\n    });\n  } catch (error) {\n    console.error(\"Erreur lors de la création de la commande:\", error);\n    throw error;\n  }\n};\n\n// Fonctions pour les utilisateurs\nexport const getUserInfo = async () => {\n  try {\n    const segment = AWSXRay.beginSegment(\"getUserInfo\");\n    try {\n      const result = await API.get(API_NAME, \"/users/me\", {});\n      segment.close();\n      return result;\n    } catch (error) {\n      segment.addError(error);\n      segment.close();\n      throw error;\n    }\n  } catch (error) {\n    console.error(\n      \"Erreur lors de la récupération des informations utilisateur:\",\n      error\n    );\n    throw error;\n  }\n};\n\nexport const updateUserInfo = async (userData) => {\n  try {\n    return await API.put(API_NAME, \"/users/me\", {\n      body: userData,\n    });\n  } catch (error) {\n    console.error(\n      \"Erreur lors de la mise à jour des informations utilisateur:\",\n      error\n    );\n    throw error;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}