{"ast":null,"code":"import { returnAcceptedFiles as e, checkMaxSize as t } from \"@aws-amplify/ui\";\nimport { useState as r } from \"react\";\nimport { FileState as a } from \"../../types.mjs\";\nfunction n({\n  maxSize: n,\n  acceptedFileTypes: o,\n  hasMultipleFiles: s,\n  isLoading: i,\n  setAutoLoad: l\n}) {\n  const [p, f] = r([]),\n    [g, u] = r(!1),\n    [c, h] = r(!1),\n    D = (e, r) => {\n      const o = [...r];\n      [...e].forEach(e => {\n        const r = t(n, e);\n        o.unshift({\n          fileState: r ? a.ERROR : a.INIT,\n          fileErrors: r,\n          file: e,\n          name: e.name\n        });\n      }), f(o);\n    },\n    m = t => {\n      const r = e([...t], o);\n      return r ? !s && p.length > 0 ? p.length : s || 1 != r.length ? !s && r.length > 1 ? (D([r[0]], p), 1) : r.length > 0 ? (D([...r], p), r.length + p.length) : 0 : (D([...r], p), r.length) : 0;\n    };\n  return {\n    inDropZone: c,\n    onDragEnter: e => {\n      e.preventDefault(), e.stopPropagation();\n    },\n    onDragLeave: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      h(!1);\n    },\n    onDragOver: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      h(!0), e.dataTransfer.dropEffect = \"copy\";\n    },\n    onDragStart: e => {\n      e.dataTransfer.clearData();\n    },\n    onDrop: e => {\n      if (e.preventDefault(), e.stopPropagation(), i) return !1;\n      const {\n        files: t\n      } = e.dataTransfer;\n      m([...t]) > 0 && (u(!0), l(!0)), h(!1);\n    },\n    setInDropZone: h,\n    setShowPreviewer: u,\n    addTargetFiles: m,\n    showPreviewer: g,\n    fileStatuses: p,\n    setFileStatuses: f\n  };\n}\nexport { n as default };","map":{"version":3,"names":["returnAcceptedFiles","e","checkMaxSize","t","useState","r","FileState","a","n","maxSize","acceptedFileTypes","o","hasMultipleFiles","s","isLoading","i","setAutoLoad","l","p","f","g","u","c","h","D","forEach","unshift","fileState","ERROR","INIT","fileErrors","file","name","m","length","inDropZone","onDragEnter","preventDefault","stopPropagation","onDragLeave","onDragOver","dataTransfer","dropEffect","onDragStart","clearData","onDrop","files","setInDropZone","setShowPreviewer","addTargetFiles","showPreviewer","fileStatuses","setFileStatuses","default"],"sources":["C:/Users/jonat/aws_poc/frontend/node_modules/@aws-amplify/ui-react/dist/esm/components/Storage/FileUploader/hooks/useFileUploader/useFileUploader.mjs"],"sourcesContent":["import{returnAcceptedFiles as e,checkMaxSize as t}from\"@aws-amplify/ui\";import{useState as r}from\"react\";import{FileState as a}from\"../../types.mjs\";function n({maxSize:n,acceptedFileTypes:o,hasMultipleFiles:s,isLoading:i,setAutoLoad:l}){const[p,f]=r([]),[g,u]=r(!1),[c,h]=r(!1),D=(e,r)=>{const o=[...r];[...e].forEach((e=>{const r=t(n,e);o.unshift({fileState:r?a.ERROR:a.INIT,fileErrors:r,file:e,name:e.name})})),f(o)},m=t=>{const r=e([...t],o);return r?!s&&p.length>0?p.length:s||1!=r.length?!s&&r.length>1?(D([r[0]],p),1):r.length>0?(D([...r],p),r.length+p.length):0:(D([...r],p),r.length):0};return{inDropZone:c,onDragEnter:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;h(!1)},onDragOver:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;h(!0),e.dataTransfer.dropEffect=\"copy\"},onDragStart:e=>{e.dataTransfer.clearData()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),i)return!1;const{files:t}=e.dataTransfer;m([...t])>0&&(u(!0),l(!0)),h(!1)},setInDropZone:h,setShowPreviewer:u,addTargetFiles:m,showPreviewer:g,fileStatuses:p,setFileStatuses:f}}export{n as default};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}